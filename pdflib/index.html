<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://unpkg.com/pdf-lib"></script>
    <script
      src="https://mozilla.github.io/pdf.js/build/pdf.mjs"
      type="module"
    ></script>
    <script type="module">
      // Loaded via <script> tag, create shortcut to access PDF.js exports.
      var { pdfjsLib } = globalThis;

      // The workerSrc property shall be specified.
      pdfjsLib.GlobalWorkerOptions.workerSrc =
        "https://mozilla.github.io/pdf.js/build/pdf.worker.mjs";
    </script>
    <link href="./style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container flex flex-col gap-2 py-4 max-w-3xl mx-auto">
      <div class="flex-none grid grid-rows-7 grid-cols-1 gap-1">
        <div class="flex items-center row-start-1 col-start-1">
          <label class="inline-block">
            <input
              id="pdfinput"
              class="peer block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"
              type="file"
              accept="application/pdf"
            />
          </label>
        </div>
        <label class="inline-block row-start-2 col-start-1">
          <input
            id="pages"
            class="peer placeholder:italic placeholder:text-slate-400 block bg-white w-full border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"
            placeholder="Pages range"
            type="text"
          />
        </label>
        <span
          class="row-start-3 col-start-1 text-slate-400 block w-full sm:text-sm"
          >Pages range. Ex. 1,3,2,6-10</span
        >
        <label class="inline-block row-start-4 col-start-1">
          <input
            id="template_text"
            class="peer placeholder:italic placeholder:text-slate-400 block bg-white w-full border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"
            placeholder="Template text"
            type="text"
          />
        </label>
        <span
          class="row-start-5 col-start-1 text-slate-400 block w-full sm:text-sm"
          >Template text. You can use %page_number%, %number_pages%,
          %file_name%</span
        >
        <button
          id="button"
          class="row-start-6 col-start-1 rounded-full bg-violet-50 hover:bg-violet-100 text-violet-700 font-semibold"
        >
          Extract
        </button>
        <div class="flex gap-3 row-start-7 col-start-1">
          <button
            id="prev"
            class="flex-initial w-24 rounded-full bg-violet-50 hover:bg-violet-100 text-violet-700 font-semibold"
          >
            &lt;</button
          ><button
            class="flex-1 rounded-full bg-violet-50 text-violet-700 font-semibold"
          >
            <span id="page_num">0</span>
            <span>/</span>
            <span id="page_count">0</span></button
          ><button
            id="next"
            class="flex-initial w-24 rounded-full bg-violet-50 hover:bg-violet-100 text-violet-700 font-semibold"
          >
            &gt;
          </button>
        </div>
      </div>
      <div>
        <canvas id="the-canvas" class="border-2 border-violet-100 w-full">
        </canvas>
      </div>
    </div>
    <script src="./index.js"></script>
  </body>
</html>
